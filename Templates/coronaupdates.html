<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src= "https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script> 
    <link rel="stylesheet" type="text/css" href="style.css"> 
    <script src="jquery-3.4.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- <script>
window.onload = function () {

var chart = new CanvasJS.Chart("chartContainer", {
    animationEnabled: true,
    title:{
        text: "Stock Price of BMW - August"
    },
    axisX:{
        valueFormatString: "DD MMM",
        crosshair: {
            enabled: true,
            snapToDataPoint: true
        }
    },
    axisY: {
        title: "Closing Price (in USD)",
        includeZero: false,
        valueFormatString: "$##0.00",
        crosshair: {
            enabled: true,
            snapToDataPoint: true,
            labelFormatter: function(e) {
                return "$" + CanvasJS.formatNumber(e.value, "##0.00");
            }
        }
    },
    data: [{
        type: "area",
        xValueFormatString: "DD MMM",
        yValueFormatString: "$##0.00",
        dataPoints: [
            { x: new Date(2016, 07, 01), y: 76.727997 },
            { x: new Date(2016, 07, 02), y: 75.459999 },
            { x: new Date(2016, 07, 03), y: 76.011002 },
            { x: new Date(2016, 07, 04), y: 75.751999 },
            { x: new Date(2016, 07, 05), y: 77.500000 },
            { x: new Date(2016, 07, 08), y: 77.436996 },
            { x: new Date(2016, 07, 09), y: 79.650002 },
            { x: new Date(2016, 07, 10), y: 79.750999 },
            { x: new Date(2016, 07, 11), y: 80.169998 },
            { x: new Date(2016, 07, 12), y: 79.570000 },
            { x: new Date(2016, 07, 15), y: 80.699997 },
            { x: new Date(2016, 07, 16), y: 79.686996 },
            { x: new Date(2016, 07, 17), y: 78.996002 },
            { x: new Date(2016, 07, 18), y: 78.899002 },
            { x: new Date(2016, 07, 19), y: 77.127998 },
            { x: new Date(2016, 07, 22), y: 76.759003 },
            { x: new Date(2016, 07, 23), y: 77.480003 },
            { x: new Date(2016, 07, 24), y: 77.623001 },
            { x: new Date(2016, 07, 25), y: 76.408997 },
            { x: new Date(2016, 07, 26), y: 76.041000 },
            { x: new Date(2016, 07, 29), y: 76.778999 },
            { x: new Date(2016, 07, 30), y: 78.654999 },
            { x: new Date(2016, 07, 31), y: 77.667000 }
        ]
    }]
});
chart.render();

}
</script> -->
</head>

<body>
<div class="background">
<section class="">
        <div class="hero-body">
            <div class="container">
                <h1 class="title">
                    <center>
                    What&apos;s the weather like?
                </center>
                </h1>
            </div>
        </div>
    </section>
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-offset-4 is-4">
                    <form method="POST">
                  
                        <div class="field has-addons">
                            <div class="control is-expanded">
                                <input class="input" type="text" placeholder="City Name" name="city_name">
                            </div>
                            <div class="control">
                                <button class="button is-info">
                                    Add City
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <section class="section">
        
        <div class="container">

        </div>
</div>
<!-- <div >
<canvas id="myChart" width="900" height="400"></canvas> 
<script type="text/javascript"> 
  
var ctx = document.getElementById("myChart"); 
var labels = "{{ labels }}";
var data = "{{ data }}";
var myChart = new Chart(ctx, { 
  type: 'bar', 
  data: { 
    labels: labels , 
    datasets: [ 
      { label: '# of students', 
        data: data , 
        backgroundColor :[
                'rgba(255, 99, 132, 0.2)', 
                'rgba(54, 162, 235, 0.2)', 
                'rgba(255, 206, 86, 0.2)', 
                'rgba(75, 192, 192, 0.2)', 
                'rgba(153, 102, 255, 0.2)', 
                'rgba(255, 159, 64, 0.2)' 
], 
  
borderColor: [ 
                'rgba(255,99,132,1)', 
                'rgba(54, 162, 235, 1)', 
                'rgba(255, 206, 86, 1)', 
                'rgba(75, 192, 192, 1)', 
                'rgba(153, 102, 255, 1)', 
                'rgba(255, 159, 64, 1)' 
            ], 
borderWidth : 1
      } 
    ] 
  }, 
  options: { 
        scales: { 
            yAxes: [{ 
                ticks: { 
                    beginAtZero:true 
                } 
            }] 
        } 
    } 
}); 
</script> 
<div>
    {% for label in labels %}
    {{label}}
    {% endfor %}
    {% for label in data %}
    {{label}}
    {% endfor %}
    </div>
 </div>  -->
 <div style="width:50%;">
  <canvas id="mycanvas"></canvas>
</div>

 <script>
 // used for example purposes
function getRandomIntInclusive(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

// create initial empty chart
var ctx_live = document.getElementById("mycanvas");
var myChart = new Chart(ctx_live, {
  type: 'bar',
  data: {
    labels: [],
    datasets: [{
      data: [],
      borderWidth: 1,
      borderColor:'#00c0ef',
      label: 'liveCount',
    }]
  },
  options: {
    responsive: true,
    title: {
      display: true,
      text: "Chart.js - Dynamically Update Chart Via Ajax Requests",
    },
    legend: {
      display: false
    },
    scales: {
      yAxes: [{
        ticks: {
          beginAtZero: true,
        }
      }]
    }
  }
});

// this post id drives the example data
var postId = 1;

// logic to get new data
var getData = function() {
  $.ajax({
    url: 'https://jsonplaceholder.typicode.com/posts/' + postId + '/comments',
    success: function(data) {
      // process your data to pull out what you plan to use to update the chart
      // e.g. new label and a new data point
      
      // add new label and data point to chart's underlying data structures
      myChart.data.labels.push("Post " + postId++);
      myChart.data.datasets[0].data.push(getRandomIntInclusive(1, 25));
      
      // re-render the chart
      myChart.update();
    }
  });
};

// get new data every 3 seconds
setInterval(getData, 3000);
</script>

</body>
</html>